apiVersion: v1
kind: Secret

metadata:
  name: {{ .Release.Name }}-secrets
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/name: {{ .Release.Name }}

data:
  auth0.pem: |-
    {{ .Files.Get "configs/auth0.pem" | b64enc }}
  auth0.yaml: |-
    {{ .Files.Get "configs/auth0.yaml" | b64enc }}

  cert.pem: |-
    {{ .Files.Get "configs/cert.pem" | b64enc }}
  key.pem: |-
    {{ .Files.Get "configs/key.pem" | b64enc }}

  infra.yaml: |-
    {{ .Files.Get "configs/infra.yaml" | b64enc }}

  flavors.yaml: |-
    {{ .Files.Get "configs/flavors.yaml" | b64enc }}
  gke-default-workflow.yaml: |-
    {{ .Files.Get "configs/gke-default-workflow.yaml" | b64enc }}
