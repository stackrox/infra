apiVersion: v1
kind: Secret

metadata:
  name: infra-server-secrets
  namespace: infra
  labels:
    app.kubernetes.io/name: infra-server

data:
  # Service account used for fetching Google Calendar events as well as
  # generating GCS signed URLs.
  google-credentials.json: |-
    {{- include "require-file" (list "google-calendar-credentials.json" .) | b64enc | nindent 4 }}

  auth0.pem: |-
    {{- .Files.Get "static/auth0.pem" | b64enc | nindent 4 }}

  auth0.yaml: |-
    {{- tpl (include "require-file" (list "auth0.yaml" .)) . | b64enc | nindent 4 }}

  cert.pem: |-
    {{- .Files.Get "static/tls-cert.pem" | b64enc | nindent 4 }}

  key.pem: |-
    {{- .Files.Get "static/tls-key.pem" | b64enc | nindent 4 }}

  infra.yaml: |-
    {{- include "require-file" (list "infra.yaml" .) | b64enc | nindent 4 }}

  flavors.yaml: |-
    {{- .Files.Get "static/flavors.yaml" | b64enc | nindent 4 }}

  workflow-gke-default.yaml: |-
    {{- .Files.Get "static/workflow-gke-default.yaml" | b64enc | nindent 4 }}

  workflow-demo.yaml: |-
    {{- .Files.Get "static/workflow-demo.yaml" | b64enc | nindent 4 }}

  workflow-qa-demo.yaml: |-
    {{- .Files.Get "static/workflow-qa-demo.yaml" | b64enc | nindent 4 }}

  workflow-openshift-lite.yaml: |-
    {{- .Files.Get "static/workflow-openshift-lite.yaml" | b64enc | nindent 4 }}

  workflow-openshift-multi.yaml: |-
    {{- .Files.Get "static/workflow-openshift-multi.yaml" | b64enc | nindent 4 }}

  workflow-openshift-4.yaml: |-
    {{- .Files.Get "static/workflow-openshift-4.yaml" | b64enc | nindent 4 }}

  workflow-example.yaml: |-
    {{- .Files.Get "static/workflow-example.yaml" | b64enc | nindent 4 }}

  workflow-eks.yaml: |-
    {{- .Files.Get "static/workflow-eks.yaml" | b64enc | nindent 4 }}

  workflow-kops.yaml: |-
    {{- .Files.Get "static/workflow-kops.yaml" | b64enc | nindent 4 }}

  workflow-aks.yaml: |-
    {{- .Files.Get "static/workflow-aks.yaml" | b64enc | nindent 4 }}

