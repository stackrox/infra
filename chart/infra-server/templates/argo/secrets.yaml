---

apiVersion: v1
kind: ConfigMap

metadata:
  name: argo-workflow-controller-configmap
  namespace: argo

data:
  config: |
    artifactRepository:
      gcs:
        bucket: argo-artifacts-development
        serviceAccountKeySecret:
          name: gcs-credentials
          key: credentials.json

---

apiVersion: v1
kind: Secret

metadata:
  name: gcs-credentials
  namespace: default

data:
  credentials.json: |-
    {{- include "require-file" (list "google-calendar-credentials.json" .) | b64enc | nindent 4 }}

---
