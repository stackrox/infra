---

apiVersion: v1
kind: Secret
type: Opaque

metadata:
  name: google-credentials-demo
  namespace: default

data:
  # Service account used for provisioning demo infrastructure.
  google-credentials.json: |-
    {{- include "require-file" (list "demo/demo-provisioner.json" .) | b64enc | nindent 4 }}

  # Service account used for demo GCR integration.
  google-scanner-credentials.json: |-
    {{- include "require-file" (list "demo/google-scanner-credentials.json" .) | b64enc | nindent 4 }}

---

apiVersion: v1
kind: Secret
type: Opaque

metadata:
  name: demo-secrets
  namespace: default

data:
  DOCKER_IO_USERNAME: |-
    {{ .Values.pullSecrets.docker.username | b64enc }}
  DOCKER_IO_PASSWORD: |-
    {{ .Values.pullSecrets.docker.password | b64enc }}

  STACKROX_IO_USERNAME: |-
    {{ .Values.pullSecrets.stackrox.username | b64enc }}
  STACKROX_IO_PASSWORD: |-
    {{ .Values.pullSecrets.stackrox.password | b64enc }}

  AUTH_CLIENT_ID: |-
    {{ .Values.auth0.clientID | b64enc }}
  AUTH_DOMAIN: |-
    {{ .Values.auth0.tenant | b64enc }}

  SLACK_WEBHOOK: |-
    {{ .Values.slackWebhook | b64enc }}

  STACKROX_LICENSE: |-
    {{ .Values.stackroxLicense | b64enc }}

---

apiVersion: v1
kind: Secret
type: kubernetes.io/dockerconfigjson

metadata:
  name: docker-io-pull-secret
  namespace: default

data:
  .dockerconfigjson: {{ template "pull-secret" .Values.pullSecrets.docker }}

---

apiVersion: v1
kind: Secret
type: kubernetes.io/dockerconfigjson

metadata:
  name: stackrox-io-pull-secret
  namespace: default

data:
  .dockerconfigjson: {{ template "pull-secret" .Values.pullSecrets.stackrox }}

---
