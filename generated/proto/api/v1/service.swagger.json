{
  "swagger": "2.0",
  "info": {
    "title": "proto/api/v1/service.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "VersionService"
    },
    {
      "name": "UserService"
    },
    {
      "name": "FlavorService"
    },
    {
      "name": "ClusterService"
    },
    {
      "name": "CliService"
    },
    {
      "name": "InfraStatusService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/cli/{os}/{arch}/upgrade": {
      "get": {
        "summary": "Upgrade - gets an updated binary if it exists.",
        "operationId": "CliService_Upgrade",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1CliUpgradeResponse"
                },
                "error": {
                  "$ref": "#/definitions/googlerpcStatus"
                }
              },
              "title": "Stream result of v1CliUpgradeResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "os",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "arch",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "CliService"
        ]
      }
    },
    "/v1/cluster": {
      "get": {
        "summary": "List provides information about the available clusters.",
        "operationId": "ClusterService_List",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ClusterListResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "all",
            "description": "all indicates that all clusters should be returned, not just the ones\nowned by the user.",
            "in": "query",
            "required": false,
            "type": "boolean"
          },
          {
            "name": "expired",
            "description": "expired indicates that expired clusters should be returned, not just the\nones that are launching/ready.",
            "in": "query",
            "required": false,
            "type": "boolean"
          },
          {
            "name": "prefix",
            "description": "list clusters whose ID matches this prefix.",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "ClusterService"
        ]
      },
      "post": {
        "summary": "Create launches a new cluster.",
        "operationId": "ClusterService_Create",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ResourceByID"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1CreateClusterRequest"
            }
          }
        ],
        "tags": [
          "ClusterService"
        ]
      }
    },
    "/v1/cluster/{id}": {
      "get": {
        "summary": "Info provides information about a specific cluster.",
        "operationId": "ClusterService_Info",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Cluster"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "ClusterService"
        ]
      },
      "delete": {
        "summary": "Delete deletes an existing cluster.",
        "operationId": "ClusterService_Delete",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "ClusterService"
        ]
      }
    },
    "/v1/cluster/{id}/artifacts": {
      "get": {
        "summary": "Artifacts returns the artifacts for a specific cluster.",
        "operationId": "ClusterService_Artifacts",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ClusterArtifacts"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "ClusterService"
        ]
      }
    },
    "/v1/cluster/{id}/lifespan": {
      "post": {
        "summary": "Lifespan updates the lifespan for a specific cluster.",
        "operationId": "ClusterService_Lifespan",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "string"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "description": "ID is the unique ID for the cluster.",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "Lifespan": {
                  "type": "string",
                  "description": "Lifespan is the new lifespan."
                },
                "method": {
                  "$ref": "#/definitions/LifespanRequestMethod"
                }
              }
            }
          }
        ],
        "tags": [
          "ClusterService"
        ]
      }
    },
    "/v1/cluster/{id}/logs": {
      "get": {
        "summary": "Logs returns the logs for a specific cluster.",
        "operationId": "ClusterService_Logs",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1LogsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "ClusterService"
        ]
      }
    },
    "/v1/flavor": {
      "get": {
        "summary": "List provides information about the available flavors.",
        "operationId": "FlavorService_List",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1FlavorListResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "all",
            "description": "all indicates that all flavors should be returned, by default\navailability alpha clusters are excluded.",
            "in": "query",
            "required": false,
            "type": "boolean"
          }
        ],
        "tags": [
          "FlavorService"
        ]
      }
    },
    "/v1/flavor/{id}": {
      "get": {
        "summary": "Info provides information about a specific flavor.",
        "operationId": "FlavorService_Info",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Flavor"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "FlavorService"
        ]
      }
    },
    "/v1/status": {
      "get": {
        "summary": "GetStatus gets the maintenance",
        "operationId": "InfraStatusService_GetStatus",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1InfraStatus"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "tags": [
          "InfraStatusService"
        ]
      },
      "delete": {
        "summary": "ResetStatus resets the maintenance",
        "operationId": "InfraStatusService_ResetStatus",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1InfraStatus"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "tags": [
          "InfraStatusService"
        ]
      },
      "put": {
        "summary": "SetStatus sets the maintenance",
        "operationId": "InfraStatusService_SetStatus",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1InfraStatus"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "tags": [
          "InfraStatusService"
        ]
      }
    },
    "/v1/token": {
      "post": {
        "summary": "Token generates a service account token for the current user.",
        "operationId": "UserService_Token",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1TokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "properties": {}
            }
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/v1/token-create": {
      "post": {
        "summary": "CreateToken generates an arbitrary service account token",
        "operationId": "UserService_CreateToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1TokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1ServiceAccount"
            }
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/v1/version": {
      "get": {
        "operationId": "VersionService_GetVersion",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Version"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "tags": [
          "VersionService"
        ]
      }
    },
    "/v1/whoami": {
      "get": {
        "summary": "Whoami provides information about the currently authenticated principal.",
        "operationId": "UserService_Whoami",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1WhoamiResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "tags": [
          "UserService"
        ]
      }
    }
  },
  "definitions": {
    "Flavoravailability": {
      "type": "string",
      "enum": [
        "alpha",
        "beta",
        "stable",
        "default"
      ],
      "default": "alpha",
      "description": "availability represents the availability classification levels.\n\n - alpha: alpha is completely experemental, and is not expected to work in any way.\n - beta: beta is being tested, and is expected to work with minor issues.\n - stable: stable is available for public consumption, and works without issue.\n - default: default is stable, and available for customer demo consumption.\nExactly 1 flavor should be configured as default."
    },
    "LifespanRequestMethod": {
      "type": "string",
      "enum": [
        "REPLACE",
        "ADD",
        "SUBTRACT"
      ],
      "default": "REPLACE",
      "description": "method represents the various lifespan operations.\n\n - REPLACE: REPLACE indicates that the given lifespan should replace the current\nlifespan.\n - ADD: ADD indicates that the given lifespan should be added to the current\nlifespan.\n - SUBTRACT: SUBTRACT indicates that the given lifespan should be subtracted from\nthe current lifespan."
    },
    "googlerpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "v1Artifact": {
      "type": "object",
      "properties": {
        "Name": {
          "type": "string"
        },
        "Description": {
          "type": "string"
        },
        "URL": {
          "type": "string"
        },
        "Mode": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "v1CliUpgradeResponse": {
      "type": "object",
      "properties": {
        "fileChunk": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "v1Cluster": {
      "type": "object",
      "properties": {
        "ID": {
          "type": "string",
          "description": "ID is the unique ID for the cluster."
        },
        "Status": {
          "$ref": "#/definitions/v1Status",
          "description": "Status is the current status for the cluster."
        },
        "Flavor": {
          "type": "string",
          "description": "Flavor is the original flavor ID that launched this cluster."
        },
        "Owner": {
          "type": "string",
          "description": "Owner is the email address for the cluster owner."
        },
        "CreatedOn": {
          "type": "string",
          "format": "date-time",
          "description": "CreatedOn is the timestamp on which the cluster started being created."
        },
        "DestroyedOn": {
          "type": "string",
          "format": "date-time",
          "description": "DestroyedOn is the timestamp on which the cluster finished being\ndestroyed."
        },
        "Lifespan": {
          "type": "string",
          "description": "Lifespan is the duration for which the cluster should be kept alive."
        },
        "Description": {
          "type": "string",
          "description": "Description is a human readable description for the cluster."
        },
        "URL": {
          "type": "string",
          "description": "URL is an optional URL for this cluster."
        },
        "Connect": {
          "type": "string",
          "description": "Connect is a command to add kube connection information to kubeconfig."
        }
      },
      "description": "Cluster represents a single cluster."
    },
    "v1ClusterArtifacts": {
      "type": "object",
      "properties": {
        "Artifacts": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1Artifact"
          }
        }
      }
    },
    "v1ClusterListResponse": {
      "type": "object",
      "properties": {
        "Clusters": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1Cluster"
          },
          "description": "Clusters is a list of all clusters."
        }
      },
      "description": "ClusterListResponse represents details about all clusters."
    },
    "v1CreateClusterRequest": {
      "type": "object",
      "properties": {
        "ID": {
          "type": "string",
          "description": "ID is the flavor ID to launch."
        },
        "Lifespan": {
          "type": "string",
          "description": "Lifespan is the initial cluster lifespan."
        },
        "Parameters": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "Parameters is a map of launch parameter names to values."
        },
        "Description": {
          "type": "string",
          "description": "Description is a human readable description for the cluster."
        },
        "NoSlack": {
          "type": "boolean",
          "description": "NoSlack is used to skip sending Slack messages for cluster lifecycle\nevents."
        },
        "SlackDM": {
          "type": "boolean",
          "description": "SlackDM is used to choose direct messages for cluster lifecycle\nevents."
        }
      },
      "description": "CreateClusterRequest represents details for launching a new cluster."
    },
    "v1Flavor": {
      "type": "object",
      "properties": {
        "ID": {
          "type": "string",
          "description": "ID is the unique, human type-able, ID for the flavor."
        },
        "Name": {
          "type": "string",
          "description": "Name is a human readable name for the flavor."
        },
        "Description": {
          "type": "string",
          "description": "Description is a human readable description for the flavor."
        },
        "Availability": {
          "$ref": "#/definitions/Flavoravailability",
          "description": "Description is an availability classification for the flavor."
        },
        "Parameters": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/v1Parameter"
          },
          "description": "Parameters is a map of parameters required for launching this flavor."
        },
        "Artifacts": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/v1FlavorArtifact"
          },
          "description": "Artifacts is a map of artifacts produced by this flavor."
        }
      },
      "description": "Flavor represents a configured cluster flavor."
    },
    "v1FlavorArtifact": {
      "type": "object",
      "properties": {
        "Name": {
          "type": "string",
          "description": "Name is the unique name of the artifact."
        },
        "Description": {
          "type": "string",
          "description": "Description is a human readable description for the artifact."
        },
        "Tags": {
          "type": "object",
          "additionalProperties": {
            "properties": {}
          },
          "description": "Tags is a set of artifact tags."
        }
      },
      "description": "FlavorArtifact represents a single artifact that is produced by a flavor."
    },
    "v1FlavorListResponse": {
      "type": "object",
      "properties": {
        "Default": {
          "type": "string",
          "description": "Default is the flavor ID of the default cluster flavor."
        },
        "Flavors": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1Flavor"
          },
          "description": "Flavors is a list of all available cluster flavors."
        }
      },
      "description": "FlavorListResponse represents details about the available cluster flavors."
    },
    "v1InfraStatus": {
      "type": "object",
      "properties": {
        "MaintenanceActive": {
          "type": "boolean",
          "description": "MaintenanceActive is an indicator whether a maintenance is ongoing."
        },
        "Maintainer": {
          "type": "string",
          "description": "Maintainer is the email of the person currently doing maintenance."
        }
      }
    },
    "v1Log": {
      "type": "object",
      "properties": {
        "Name": {
          "type": "string",
          "description": "Name is the name given to this pod in the workflow."
        },
        "Started": {
          "type": "string",
          "format": "date-time",
          "description": "Started is the time at which this pod was started. Used for ordering\nbetween pods."
        },
        "Body": {
          "type": "string",
          "format": "byte",
          "description": "Body is the raw pod logs."
        },
        "Message": {
          "type": "string",
          "description": "Message surfaces step state from Argo."
        }
      },
      "description": "Log represents the logs from a specific pod."
    },
    "v1LogsResponse": {
      "type": "object",
      "properties": {
        "Logs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1Log"
          },
          "description": "Logs are all of the logs from a cluster."
        }
      },
      "description": "LogsResponse represents a collection of logs."
    },
    "v1Parameter": {
      "type": "object",
      "properties": {
        "Name": {
          "type": "string",
          "description": "Name is the unique name of the parameter."
        },
        "Description": {
          "type": "string",
          "description": "Description is a human readable description for the parameter."
        },
        "Value": {
          "type": "string",
          "description": "Value that this parameter could have.\nIf the parameter is not optional, then value serves as an example.\nIf the parameter is optional, then value serves as a default.\nIf the parameter is internal, then value serves as a hardcoded constant."
        },
        "Optional": {
          "type": "boolean",
          "description": "Optional indicates that this parameter can be optionally provided by a\nuser. If the user does not provide a value, then Value serves as a\ndefault."
        },
        "Internal": {
          "type": "boolean",
          "description": "Internal indicates that this parameter should not be provided by a user,\nbut rather treats Value as a hardcoded constant."
        },
        "Order": {
          "type": "integer",
          "format": "int32",
          "description": "The relative order of importance of this parameter for when presenting in\na UI for example."
        },
        "Help": {
          "type": "string"
        },
        "FromFile": {
          "type": "boolean",
          "description": "Indicates that the value for this parameter can be provided from the\ncontents of a file."
        }
      },
      "description": "Parameter represents a single parameter that is needed to launch a flavor."
    },
    "v1ResourceByID": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      },
      "description": "ResourceByID represents a generic reference to a named/unique resource."
    },
    "v1ServiceAccount": {
      "type": "object",
      "properties": {
        "Name": {
          "type": "string",
          "description": "Name is a human readable name for the service account."
        },
        "Description": {
          "type": "string",
          "description": "Description is a human readable description for the service account."
        },
        "Email": {
          "type": "string",
          "description": "Email is the Red Hat email address for the service account."
        },
        "IssuedAt": {
          "type": "string",
          "format": "int64",
          "description": "IssuedAt is the time of issuing the service account token."
        },
        "NotBefore": {
          "type": "string",
          "format": "int64",
          "description": "NotBefore is the beginning of service account token valid time period."
        },
        "ExpiresAt": {
          "type": "string",
          "format": "int64",
          "description": "ExpiresAt is the end of service account token valid time period."
        }
      },
      "description": "ServiceAccount represents an authenticated service account (robot) principal."
    },
    "v1Status": {
      "type": "string",
      "enum": [
        "FAILED",
        "CREATING",
        "READY",
        "DESTROYING",
        "FINISHED"
      ],
      "default": "FAILED",
      "description": "Status represents the various cluster states.\n\n - FAILED: FAILED is the state when the cluster has failed in one way or another.\n - CREATING: CREATING is the state when the cluster is being created.\n - READY: READY is the state when the cluster is available and ready for use.\n - DESTROYING: DESTROYING is the state when the cluster is being destroyed.\n - FINISHED: FINISHED is the state when the cluster has been successfully destroyed."
    },
    "v1TokenResponse": {
      "type": "object",
      "properties": {
        "Account": {
          "$ref": "#/definitions/v1ServiceAccount",
          "description": "Account is the service account the token was generated for."
        },
        "Token": {
          "type": "string",
          "description": "Token is the token generated for the service account."
        }
      }
    },
    "v1User": {
      "type": "object",
      "properties": {
        "Expiry": {
          "type": "string",
          "format": "date-time",
          "description": "Expiry is the expiration date of this user session. Used only as a hint\nto the user and not for enforcement."
        },
        "Name": {
          "type": "string",
          "description": "Name is the full name of the user."
        },
        "Email": {
          "type": "string",
          "description": "Email is the email address of the user."
        },
        "Picture": {
          "type": "string",
          "description": "Picture is a URL linking to this user's profile picture, if available."
        }
      },
      "description": "User represents an authenticated (human) principal."
    },
    "v1Version": {
      "type": "object",
      "properties": {
        "BuildDate": {
          "type": "string",
          "format": "date-time"
        },
        "GitCommit": {
          "type": "string"
        },
        "GoVersion": {
          "type": "string"
        },
        "Platform": {
          "type": "string"
        },
        "Version": {
          "type": "string"
        },
        "Workflow": {
          "type": "string"
        }
      }
    },
    "v1WhoamiResponse": {
      "type": "object",
      "properties": {
        "User": {
          "$ref": "#/definitions/v1User",
          "description": "User represents an authenticated human."
        },
        "ServiceAccount": {
          "$ref": "#/definitions/v1ServiceAccount",
          "description": "ServiceAccount represents an authenticated service account robot."
        }
      },
      "description": "WhoamiResponse represents details about the current authenticated principal."
    }
  }
}
